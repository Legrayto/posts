(function(t){function e(e){for(var r,i,a=e[0],c=e[1],l=e[2],m=0,d=[];m<a.length;m++)i=a[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,a=1;a<s.length;a++){var c=s[a];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var r={},n={app:0},o=[];function i(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=r,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/posts/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0305":function(t,e,s){"use strict";s("f7cf")},"51a3":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"pt-12"},[s("keep-alive",[s("router-view")],1)],1)],1)},o=[],i={name:"App",data:function(){return{}}},a=i,c=s("2877"),l=s("6544"),u=s.n(l),m=s("7496"),d=s("f6c4"),v=Object(c["a"])(a,n,o,!1,null,null,null),f=v.exports;u()(v,{VApp:m["a"],VMain:d["a"]});var p=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.loading?s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"auto"}},[s("v-progress-circular",{attrs:{size:70,width:7,"fill-height":"",color:"primary",indeterminate:""}})],1)],1):s("div",[s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{attrs:{md:"6",sm:"10"}},[s("v-select",{attrs:{items:t.users,"item-text":function(t){return t.username},"item-value":function(t){return t.id},label:"Filter Users"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),s("v-row",{attrs:{justify:"center"}},t._l(t.posts,(function(t){return s("v-col",{key:t.id,attrs:{md:"8",sm:"10"}},[s("PostList",{attrs:{id:t.userId,post:t}})],1)})),1)],1)],1)},b=[],_={name:"Posts",data:function(){return{selected:""}},computed:{posts:function(){return this.$store.getters.posts},users:function(){return this.$store.getters.users},loading:function(){return this.$store.getters.load}},watch:{selected:function(t){this.$store.dispatch("filterPosts",t)}}},g=_,y=s("62ad"),C=s("a523"),w=s("490a"),V=s("0fd9"),x=s("b974"),j=Object(c["a"])(g,h,b,!1,null,null,null),I=j.exports;u()(j,{VCol:y["a"],VContainer:C["a"],VProgressCircular:w["a"],VRow:V["a"],VSelect:x["a"]});var P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.loading?s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"auto"}},[s("v-progress-circular",{attrs:{size:70,width:7,"fill-height":"",color:"primary",indeterminate:""}})],1)],1):s("div",[s("v-row",{staticClass:"mb-6",attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-card",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-list",{attrs:{dense:""}},[s("v-list-item",[s("v-list-item-avatar",{attrs:{color:"indigo"}},[s("v-avatar",[s("v-icon",{attrs:{color:"white"}},[t._v("mdi-account")])],1)],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-h6"},[t._v(" "+t._s(t.user.username)+" ")]),s("v-list-item-subtitle",[t._v(" Name: "),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.user.name))])]),s("v-list-item-subtitle",[t._v(" Email: "),s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[s("span",{staticClass:"text--darken-1 light-blue--text",class:{"text-decoration-underline":r}},[t._v(" "+t._s(t.user.email)+" ")])]}}])})],1),s("v-list-item-subtitle",[t._v(" Website: "),s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[s("span",{staticClass:"text--darken-1 light-blue--text",class:{"text-decoration-underline":r}},[t._v(" "+t._s(t.user.website)+" ")])]}}])})],1)],1)],1)],1),s("v-divider"),s("v-list",{attrs:{dense:"","two-line":""}},[s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"indigo"}},[t._v(" mdi-phone ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.user.phone))]),s("v-list-item-subtitle",[t._v("Mobile")])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"indigo"}},[t._v(" mdi-map-marker ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.user.address.street))]),s("v-list-item-subtitle",[t._v(t._s(t.user.address.city))])],1)],1),s("v-divider",{attrs:{inset:""}}),s("v-list-item",[s("v-list-item-icon",[s("v-icon",{attrs:{color:"indigo"}},[t._v(" mdi-briefcase ")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.user.company.name))]),s("v-list-item-subtitle",[t._v(t._s(t.user.company.bs))])],1)],1)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-divider"),s("v-card-title",[t._v(t._s(t.post.title))]),s("v-card-text",[t._v(t._s(t.post.body))])],1)],1)],1)],1)],1),s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("div",{staticClass:"text-h4"},[t._v("Comments:")]),s("div",{staticClass:"text-subtitle"},[t._v(" (you can only leave one comment) ")])]),s("v-col",{attrs:{cols:"12",md:"10"}},[s("v-form",{ref:"form",attrs:{"lazy-validation":"",disabled:t.addedComment},on:{submit:function(e){return e.preventDefault(),t.addComment.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6"}},[s("v-text-field",{attrs:{rules:[function(t){return!!t||"Field is required"}],label:"Title comment",required:"","prepend-icon":"mdi-comment"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-text-field",{attrs:{rules:t.emailRules,label:"Your email",required:"","prepend-icon":"mdi-email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-textarea",{attrs:{label:"Leave a comment",rules:[function(t){return!!t||"Field is required"}],rows:"1","prepend-icon":"mdi-comment",required:""},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}})],1)],1),s("v-row",{staticClass:"pr-2"},[s("v-spacer"),s("v-btn",{staticClass:"mr-4",attrs:{small:"",text:"",color:"grey darken-1",disabled:t.addedComment},on:{click:t.reset}},[t._v(" Reset Form ")]),s("v-btn",{attrs:{small:"",disabled:!t.valid||t.addedComment,color:"success",type:"submit"}},[t._v(" Add comment ")])],1)],1)],1)],1)],1),t.load||t.loading?s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"auto"}},[s("v-progress-circular",{attrs:{size:70,width:7,"fill-height":"",color:"primary",indeterminate:""}})],1)],1):s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"10"}},t._l(t.comments,(function(t){return s("v-list",{key:t.id},[s("Comment",{attrs:{comment:t}}),s("v-divider")],1)})),1)],1),s("v-slide-y-reverse-transition",[t.alert?s("div",{staticClass:"successAlert"},[s("v-alert",{staticClass:"mb-0",attrs:{type:"success"}},[s("v-row",[s("v-col",{attrs:{cols:"auto"}},[t._v("Comment added")]),s("v-spacer"),s("v-col",{attrs:{cols:"3"}},[s("v-progress-circular",{attrs:{rotate:360,size:100,value:t.alertValue,color:"white",reverse:""}})],1)],1)],1)],1):t._e()])],1)},L=[],k=s("5530"),O=s("1da1"),$=(s("96cf"),s("ac1f"),s("00b4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-list-item",{attrs:{"three-line":""}},[s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(t.comment.name))]),s("v-list-item-subtitle",{staticClass:"font-italic mb-4"},[t._v(" by: "),s("span",{staticClass:"text--darken-1 light-blue--text text-decoration-underline"},[t._v(t._s(t.comment.email))])]),s("v-list-item-subtitle",{staticClass:"font-weight-medium"},[t._v(t._s(t.comment.body))])],1)],1)}),S=[],T={name:"Comment",props:["comment"]},R=T,A=s("da13"),E=s("5d23"),F=Object(c["a"])(R,$,S,!1,null,null,null),N=F.exports;u()(F,{VListItem:A["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"]});var U={name:"Post",components:{Comment:N},props:["userName","postId"],data:function(){return{showDetails:!1,showInfo:!1,form:{comment:"",email:"",title:""},valid:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+\..+/.test(t)||"E-mail must be valid"}],load:!1,alert:!1,alertValue:100}},computed:{post:function(){return this.$store.getters.post(this.postId)},user:function(){return this.$store.getters.userByName(this.userName)},comments:function(){return this.$store.getters.comments},loading:function(){return this.$store.getters.load},addedComment:function(){return this.comments.length>5}},methods:{reset:function(){this.$refs.form.reset()},addComment:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.form.validate()){e.next=2;break}return e.abrupt("return");case 2:return s=Object(k["a"])(Object(k["a"])({},t.form),{},{postId:+t.postId}),t.$refs.form.reset(),t.load=!0,e.next=7,t.$store.dispatch("addComment",s);case 7:t.load=!1,t.onAlert();case 9:case"end":return e.stop()}}),e)})))()},getComments:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.load=!0,e.next=3,t.$store.dispatch("setFilterComments",t.postId);case 3:t.load=!1;case 4:case"end":return e.stop()}}),e)})))()},onAlert:function(){var t=this;this.alertValue=100,this.alert=!0;var e=setInterval((function(){t.alertValue-=10}),200);setTimeout((function(){t.alert=!1,clearInterval(e)}),2500)}},beforeRouteEnter:function(t,e,s){s((function(t){return t.getComments()}))}},M=U,q=(s("0305"),s("0798")),z=s("8212"),B=s("8336"),D=s("b0af"),H=s("99d9"),J=s("ce7e"),Y=s("4bd4"),W=s("ce87"),G=s("132d"),K=s("8860"),Q=s("8270"),X=s("34c3"),Z=s("0789"),tt=s("2fa4"),et=s("8654"),st=s("a844"),rt=Object(c["a"])(M,P,L,!1,null,null,null),nt=rt.exports;u()(rt,{VAlert:q["a"],VAvatar:z["a"],VBtn:B["a"],VCard:D["a"],VCardText:H["b"],VCardTitle:H["c"],VCol:y["a"],VContainer:C["a"],VDivider:J["a"],VForm:Y["a"],VHover:W["a"],VIcon:G["a"],VList:K["a"],VListItem:A["a"],VListItemAvatar:Q["a"],VListItemContent:E["a"],VListItemIcon:X["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VProgressCircular:w["a"],VRow:V["a"],VSlideYReverseTransition:Z["e"],VSpacer:tt["a"],VTextField:et["a"],VTextarea:st["a"]}),r["a"].use(p["a"]);var ot=[{path:"/",redirect:{name:"Posts"}},{path:"/posts",name:"Posts",component:I},{path:"/posts/post/:userName/:postId",name:"Post",component:nt,props:!0}],it=new p["a"]({mode:"history",base:"/posts/",routes:ot}),at=it,ct=(s("d3b7"),s("e9c4"),s("7db0"),s("2f62"));r["a"].use(ct["a"]);var lt=new ct["a"].Store({state:{users:[],posts:[],comments:[],loading:!1},mutations:{setUsers:function(t,e){t.users=e},setPosts:function(t,e){t.posts=e},setComments:function(t,e){t.comments=e},addComment:function(t,e){t.comments.unshift(e)},setLoad:function(t,e){t.loading=e}},actions:{setPostsUsers:function(t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r=t.dispatch,s("setLoad",!0),e.next=4,r("setUsers");case 4:return e.next=6,r("setPosts");case 6:s("setLoad",!1);case 7:case"end":return e.stop()}}),e)})))()},setUsers:function(t){var e=t.commit;return fetch("https://jsonplaceholder.typicode.com/users").then((function(t){return t.json()})).then((function(t){e("setUsers",t)})).catch((function(t){console.log(t)}))},setPosts:function(t){var e=t.commit;return fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()})).then((function(t){e("setPosts",t)})).catch((function(t){console.log(t)}))},filterPosts:function(t,e){var s=t.commit;s("setLoad",!0),fetch("https://jsonplaceholder.typicode.com/posts?userId=".concat(e)).then((function(t){return t.json()})).then((function(t){s("setPosts",t),s("setLoad",!1)})).catch((function(t){console.log(t),s("setLoad",!1)}))},setFilterComments:function(t,e){var s=t.commit;return fetch("https://jsonplaceholder.typicode.com/comments?postId=".concat(e)).then((function(t){return t.json()})).then((function(t){s("setComments",t)})).catch((function(t){console.log(t)}))},addComment:function(t,e){var s=t.commit;return fetch("https://jsonplaceholder.typicode.com/comments",{method:"POST",body:JSON.stringify({postId:e.postId,name:e.title,body:e.comment,email:e.email}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){s("addComment",t)})).catch((function(t){console.log(t)}))}},getters:{users:function(t){return t.users},user:function(t,e){return function(t){return e.users.find((function(e){return e.id===t}))}},userByName:function(t,e){return function(t){return e.users.find((function(e){return e.username===t}))}},posts:function(t){return t.posts},post:function(t,e){return function(t){return e.posts.find((function(e){return e.id===+t}))}},comments:function(t){return t.comments},load:function(t){return t.loading}},modules:{}}),ut=s("f309");r["a"].use(ut["a"]);var mt=new ut["a"]({}),dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[s("v-card",{class:{onHover:r},staticStyle:{cursor:"pointer"},attrs:{elevation:r?10:2,router:"",to:{name:"Post",params:{userName:t.user.username,postId:t.post.id}}}},[s("v-list-item",{attrs:{"three-line":""}},[s("v-list-item-avatar",[s("v-avatar",{attrs:{color:"indigo"}},[s("span",{staticClass:"white--text"},[t._v(t._s(t._f("initials")(t.user.name)))])])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"font-weight-medium mb-2 d-inline-block text-truncate"},[t._v(t._s(t.user.username))]),s("v-divider"),s("v-list-item-title",{staticClass:"my-2"},[t._v(t._s(t.post.title))]),s("v-list-item-subtitle",[t._v(t._s(t.post.body))])],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{text:"",color:"info accent-4"}},[t._v("Learn More")])],1)],1)]}}])})},vt=[],ft=s("3835"),pt=(s("1276"),{name:"PostList",props:["id","post"],computed:{user:function(){var t=this;return this.$store.getters.users.find((function(e){return e.id===t.id}))}},filters:{initials:function(t){var e=t.split(" "),s=Object(ft["a"])(e,2),r=s[0],n=s[1];return r[0]+n[0]}}}),ht=pt,bt=(s("f288"),Object(c["a"])(ht,dt,vt,!1,null,null,null)),_t=bt.exports;u()(bt,{VAvatar:z["a"],VBtn:B["a"],VCard:D["a"],VCardActions:H["a"],VDivider:J["a"],VHover:W["a"],VListItem:A["a"],VListItemAvatar:Q["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VSpacer:tt["a"]}),r["a"].component("PostList",_t),r["a"].config.productionTip=!1,r["a"].config.devtools=!0,new r["a"]({router:at,store:lt,vuetify:mt,render:function(t){return t(f)},created:function(){this.$store.dispatch("setPostsUsers")}}).$mount("#app")},f288:function(t,e,s){"use strict";s("51a3")},f7cf:function(t,e,s){}});
//# sourceMappingURL=app.9481cd44.js.map